@using Projectwerk.Models
@model PostDTO
<script src="../../ckeditor/ckeditor.js"></script>
<h2>Make a new post in "@Model.TopicName"</h2>

<form id="form2" method="post" action="/api/Posts"
      enctype="application/x-www-form-urlencoded">

    <div>
        @Html.TextAreaFor(@Model => @Model.ThePost, new { @class = "TextAreaStylePost", @rows = 10, @cols = 80, @id = "editor1", @name = "editor1" })
        
        <script>
                // Replace the <textarea id="editor1"> with a CKEditor
                // instance, using default configuration.
                CKEDITOR.replace( 'editor1' );
        </script>
    </div>
    <div>
        @Html.HiddenFor(model => model.TopicId)
        @Html.HiddenFor(model => model.TopicName)
        @Html.HiddenFor(model => model.PostedBy)
        @Html.HiddenFor(model => model.ReplyToPostId)
    </div>
    @if (!Model.IsTopicLocked)
    {
        <div>
            <input type="submit" value="Submit" />
        </div>
    }
</form>